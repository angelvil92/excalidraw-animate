(this["webpackJsonpexcalidraw-animate"]=this["webpackJsonpexcalidraw-animate"]||[]).push([[27],{18:function(e){e.exports=JSON.parse('{"labels":{"paste":"Paste","selectAll":"Select all","moveCanvas":"Move canvas","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With Background","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","createRoom":"Share a live-collaboration session","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","toggleGridMode":"Toggle grid mode"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","roomDialog":"Start live collaboration","createNewRoom":"Create new room","toggleFullScreen":"Toggle full screen","toggleZenMode":"Toggle zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content."},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","linearElementMulti":"Click on last point or press Escape or Enter to finish","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_persistenceWarning":"Note that the scene data is shared across collaborators in a P2P fashion, and not persisted to our server. Thus, if all of you disconnect, you will lose the data unless you export it to a file or a shareable link.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version."},"errorDialog":{"title":"Error"},"shortcutsDialog":{"title":"Keyboard shortcuts","shapes":"Shapes","or":"or","click":"click","drag":"drag","curvedArrow":"Curved arrow","curvedLine":"Curved line","editor":"Editor","view":"View","blog":"Read our blog","howto":"Follow our guides","github":"Found an issue? Submit","textNewLine":"Add new line (text)","textFinish":"Finish editing (text)","zoomToFit":"Zoom to fit all elements"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"charts":{"noNumericColumn":"You pasted a spreadsheet without a numeric column.","tooManyColumns":"You pasted a spreadsheet with more than two columns."}}')},19:function(e){e.exports=JSON.parse('{"ar-SA":57,"bg-BG":81,"ca-ES":92,"de-DE":100,"el-GR":98,"en":100,"es-ES":97,"fa-IR":100,"fi-FI":100,"fr-FR":100,"he-IL":94,"hi-IN":100,"hu-HU":58,"id-ID":59,"it-IT":97,"ja-JP":77,"ko-KR":72,"nb-NO":100,"nl-NL":85,"nn-NO":100,"pl-PL":99,"pt-PT":100,"ru-RU":81,"sq-AL":42,"tr-TR":98,"uk-UA":100,"zh-CN":100,"zh-TW":100}')},24:function(e,t,n){var a={"./README.md":[68,7,30],"./ar-SA":[29,3,0],"./ar-SA.json":[29,3,0],"./bg-BG":[30,3,1],"./bg-BG.json":[30,3,1],"./ca-ES":[31,3,2],"./ca-ES.json":[31,3,2],"./de-DE":[32,3,3],"./de-DE.json":[32,3,3],"./el-GR":[33,3,4],"./el-GR.json":[33,3,4],"./en":[18,3],"./en.json":[18,3],"./es-ES":[34,3,5],"./es-ES.json":[34,3,5],"./fa-IR":[35,3,6],"./fa-IR.json":[35,3,6],"./fi-FI":[36,3,7],"./fi-FI.json":[36,3,7],"./fr-FR":[37,3,8],"./fr-FR.json":[37,3,8],"./he-IL":[38,3,9],"./he-IL.json":[38,3,9],"./hi-IN":[39,3,10],"./hi-IN.json":[39,3,10],"./hu-HU":[40,3,11],"./hu-HU.json":[40,3,11],"./id-ID":[41,3,12],"./id-ID.json":[41,3,12],"./it-IT":[42,3,13],"./it-IT.json":[42,3,13],"./ja-JP":[43,3,14],"./ja-JP.json":[43,3,14],"./ko-KR":[44,3,15],"./ko-KR.json":[44,3,15],"./nb-NO":[45,3,16],"./nb-NO.json":[45,3,16],"./nl-NL":[46,3,17],"./nl-NL.json":[46,3,17],"./nn-NO":[47,3,18],"./nn-NO.json":[47,3,18],"./percentages":[19,3],"./percentages.json":[19,3],"./pl-PL":[48,3,19],"./pl-PL.json":[48,3,19],"./pt-PT":[49,3,20],"./pt-PT.json":[49,3,20],"./ru-RU":[50,3,21],"./ru-RU.json":[50,3,21],"./sq-AL":[51,3,22],"./sq-AL.json":[51,3,22],"./tr-TR":[52,3,23],"./tr-TR.json":[52,3,23],"./uk-UA":[53,3,24],"./uk-UA.json":[53,3,24],"./zh-CN":[54,3,25],"./zh-CN.json":[54,3,25],"./zh-TW":[55,3,26],"./zh-TW.json":[55,3,26]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,t[1])}))}r.keys=function(){return Object.keys(a)},r.id=24,e.exports=r},56:function(e,t,n){e.exports=n(67)},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a,r,o=n(4),i=n.n(o),l=n(25),c=n.n(l),s=(n(61),n(62),n(2)),u=n.n(s),d=n(5),h=n(0),f=(n(64),n(65),function(e){var t=e.link,n=e.size,a=e.fill,r=e.color;return i.a.createElement("a",{href:t,className:"GitHubCorner-container","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("svg",{width:n||80,height:n||80,viewBox:"0 0 250 250",style:{fill:a||"#151513",color:r||"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true"},i.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),i.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"GitHubCorner-octo-arm"}),i.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"GitHubCorner-octo-body"})))}),p=n(10),g=new Map,m=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.match(/url\(".*?"\);/g)||[],e.next=3,Promise.all(n.map((function(e){return new Promise((function(t,n){e=e.slice(5,-3),g.has(e)?t(g.get(e)):fetch(e).then((function(e){return e.blob()})).then((function(a){var r=new FileReader;r.onload=function(){var n="url(".concat(r.result,");");g.set(e,n),t(n)},r.onerror=n,r.readAsDataURL(a)})).catch(n)}))})));case 3:return a=e.sent,e.abrupt("return",t.replace(/url\(".*?"\);/g,(function(){return a.shift()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,n,a){return new Promise((function(r,o){t.pauseAnimations();var i=[],l=function(){var c=Object(d.a)(u.a.mark((function c(s){var d,h;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!(s>n)){c.next=4;break}return t.unpauseAnimations(),r(i),c.abrupt("return");case 4:return t.setCurrentTime(s/1e3),c.next=7,m(e.innerHTML);case 7:d=c.sent,(h=new Image).src="data:image/svg+xml;base64,"+btoa(d),h.onload=function(){i.push(h),l(s+1e3/a)},h.onerror=function(e){window.alert("Unexpected error while preparing images"),o(e)};case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();l(0)}))},v=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getCurrentTime(),t.setCurrentTime(0),a=(new XMLSerializer).serializeToString(t),t.setCurrentTime(n),e.next=6,Object(p.b)(new Blob([a],{type:"svg"}),{fileName:"excalidraw-animate.svg"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e,t){return new Promise(function(){var n=Object(d.a)(u.a.mark((function n(a){var r,o,i,l,c,s,f,g,m,v,w,y;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.parentNode){n.next=5;break}return window.alert("svg is not displayed"),a(),n.abrupt("return");case 5:return n.next=7,b(o,e,t,60);case 7:i=n.sent,l=(null===(r=e.getAttribute("viewBox"))||void 0===r?void 0:r.match(/0 0 (\S+) (\S+)/))||[],c=Object(h.a)(l,3),s=c[1],f=c[2],(g=document.createElement("canvas")).setAttribute("width","".concat(s,"px")),g.setAttribute("height","".concat(f,"px")),m=g.getContext("2d"),v=g.captureStream(),(w=new MediaRecorder(v)).ondataavailable=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(new Blob([t.data],{type:t.data.type}),{fileName:"excalidraw-animate.webm"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w.start(),y=0,function e(){if(y>=i.length)return w.stop(),void a();null===m||void 0===m||m.drawImage(i[y],0,0),y+=1,setTimeout(e,1e3/60)}();case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},y=n(15),x=n(6),k=n(1),S=n(3),E=function(e){return null!=e&&"text"===e.type},j=function(e){return null!=e&&("arrow"===e.type||"line"===e.type||"draw"===e.type)},C=n(7);n(26),Math.PI;!function(e){e.INIT="SCENE_INIT",e.UPDATE="SCENE_UPDATE"}(a||(a={})),function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend"}(r||(r={}));var O={1:"Virgil",2:"Helvetica",3:"Cascadia"},A=function(e,t,n,a,r){return[(e-n)*Math.cos(r)-(t-a)*Math.sin(r)+n,(e-n)*Math.sin(r)+(t-a)*Math.cos(r)+a]},M=function(e,t,n,a){var r=n-e,o=a-t;return Math.hypot(r,o)},N=function(e){if(e.length>=3){var t=[e[0],e[e.length-1]],n=t[0],a=t[1];return M(n[0],n[1],a[0],a[1])<=10}return!1},P=n(12),I=function(e){return j(e)?R(e):[e.x,e.y,e.x+e.width,e.y+e.height]},T=function(e){var t=Math.floor(e.width/2)+1,n=e.width,a=Math.floor(e.height/2)+1;return[t,0,n,a,t,e.height,0,a]},L=function(e){var t,n=Object(C.a)(e.sets);try{for(n.s();!(t=n.n()).done;){var a=t.value;if("path"===a.type)return a.ops}}catch(r){n.e(r)}finally{n.f()}return e.sets[0].ops},D=function(e,t){var n=[0,0],a=e.reduce((function(e,a){var r=a.op,o=a.data;if("move"===r)n=o;else if("bcurveTo"===r){var i=[o[0],o[1]],l=[o[2],o[3]],c=[o[4],o[5]],s=n;n=c;for(var u=function(e,t){return Math.pow(1-e,3)*c[t]+3*e*Math.pow(1-e,2)*l[t]+3*Math.pow(e,2)*(1-e)*i[t]+s[t]*Math.pow(e,3)},d=0;d<=1;){var f=u(d,0),p=u(d,1);if(t){var g=t(f,p),m=Object(h.a)(g,2);f=m[0],p=m[1]}e.minY=Math.min(e.minY,p),e.minX=Math.min(e.minX,f),e.maxX=Math.max(e.maxX,f),e.maxY=Math.max(e.maxY,p),d+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]},R=function(e){if(e.points.length<2||!G(e)){var t=e.points.reduce((function(e,t){var n=Object(h.a)(t,2),a=n[0],r=n[1];return e.minY=Math.min(e.minY,r),e.minX=Math.min(e.minX,a),e.maxX=Math.max(e.maxX,a),e.maxY=Math.max(e.maxY,r),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),n=t.minX,a=t.minY,r=t.maxX,o=t.maxY;return[n+e.x,a+e.y,r+e.x,o+e.y]}var i=G(e),l=L(i[0]),c=D(l),s=Object(h.a)(c,4),u=s[0],d=s[1],f=s[2],p=s[3];return[u+e.x,d+e.y,f+e.x,p+e.y]},F=function(e){var t=I(e),n=Object(h.a)(t,4),a=n[0],r=n[1],o=n[2],i=n[3],l=(a+o)/2,c=(r+i)/2;if(j(e))return function(e,t,n){if(e.points.length<2||!G(e)){var a=e.points.reduce((function(a,r){var o=Object(h.a)(r,2),i=o[0],l=o[1],c=A(e.x+i,e.y+l,t,n,e.angle),s=Object(h.a)(c,2);return i=s[0],l=s[1],a.minY=Math.min(a.minY,l),a.minX=Math.min(a.minX,i),a.maxX=Math.max(a.maxX,i),a.maxY=Math.max(a.maxY,l),a}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]}var r=G(e),o=L(r[0]);return D(o,(function(a,r){return A(e.x+a,e.y+r,t,n,e.angle)}))}(e,l,c);if("diamond"===e.type){var s=A(l,r,l,c,e.angle),u=Object(h.a)(s,2),d=u[0],f=u[1],p=A(l,i,l,c,e.angle),g=Object(h.a)(p,2),m=g[0],b=g[1],v=A(a,c,l,c,e.angle),w=Object(h.a)(v,2),y=w[0],x=w[1],k=A(o,c,l,c,e.angle),S=Object(h.a)(k,2),E=S[0],C=S[1];return[Math.min(d,m,y,E),Math.min(f,b,x,C),Math.max(d,m,y,E),Math.max(f,b,x,C)]}if("ellipse"===e.type){var O=(o-a)/2,M=(i-r)/2,N=Math.cos(e.angle),P=Math.sin(e.angle),T=Math.hypot(O*N,M*P),R=Math.hypot(M*N,O*P);return[l-T,c-R,l+T,c+R]}var F=A(a,r,l,c,e.angle),U=Object(h.a)(F,2),z=U[0],Y=U[1],_=A(a,i,l,c,e.angle),W=Object(h.a)(_,2),B=W[0],X=W[1],H=A(o,i,l,c,e.angle),Z=Object(h.a)(H,2),V=Z[0],K=Z[1],J=A(o,r,l,c,e.angle),q=Object(h.a)(J,2),$=q[0],Q=q[1];return[Math.min(z,B,V,$),Math.min(Y,X,K,Q),Math.max(z,B,V,$),Math.max(Y,X,K,Q)]},U=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,a=1/0,r=-1/0;return e.forEach((function(e){var o=F(e),i=Object(h.a)(o,4),l=i[0],c=i[1],s=i[2],u=i[3];t=Math.min(t,l),a=Math.min(a,c),n=Math.max(n,s),r=Math.max(r,u)})),[t,a,n,r]},z=function(e,t){var n=P.a.generator().curve(t,X(e)),a=L(n),r=D(a),o=Object(h.a)(r,4),i=o[0],l=o[1],c=o[2],s=o[3];return[i+e.x,l+e.y,c+e.x,s+e.y]},Y=[12,8],_=[3,6],W=new WeakMap,B=new WeakMap,G=function(e){return B.get(e)},X=function(e){var t={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?Y:"dotted"===e.strokeStyle?_:void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor};switch(e.type){case"rectangle":case"diamond":case"ellipse":return t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(t.curveFitting=1),t;case"line":case"draw":return N(e.points)&&(t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),t;case"arrow":return t;default:throw new Error("Unimplemented type ".concat(e.type))}},H=function(e,t){var n=B.get(e)||null;if(!n){switch(W.delete(e),e.type){case"rectangle":n=t.rectangle(0,0,e.width,e.height,X(e));break;case"diamond":var a=T(e),r=Object(h.a)(a,8),o=r[0],i=r[1],l=r[2],c=r[3],s=r[4],u=r[5],d=r[6],f=r[7];n=t.polygon([[o,i],[l,c],[s,u],[d,f]],X(e));break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,X(e));break;case"line":case"draw":case"arrow":var p=X(e),g=e.points.length?e.points:[[0,0]];if(n=[t.curve(g,p)],"arrow"===e.type){var m,b=function(e,t){var n=L(t[0]),a=n[n.length-1].data,r=[a[4],a[5]],o=[a[2],a[3]],i=[a[0],a[1]],l=n[n.length-2],c=[0,0];"move"===l.op?c=l.data:"bcurveTo"===l.op&&(c=[l.data[4],l.data[5]]);var s=function(e,t){return Math.pow(1-e,3)*r[t]+3*e*Math.pow(1-e,2)*o[t]+3*Math.pow(e,2)*(1-e)*i[t]+c[t]*Math.pow(e,3)},u=r[0],d=r[1],f=[s(.3,0),s(.3,1)],p=f[0],g=f[1],m=Math.hypot(u-p,d-g),b=(u-p)/m,v=(d-g)/m,w=e.points.reduce((function(e,t,n,a){var r=Object(h.a)(t,2),o=r[0],i=r[1],l=n>0?a[n-1]:[0,0],c=Object(h.a)(l,2),s=c[0],u=c[1];return e+Math.hypot(o-s,i-u)}),0),y=Math.min(30,w/2),x=u-b*y,k=d-v*y,S=A(x,k,u,d,-20*Math.PI/180),E=Object(h.a)(S,2),j=E[0],C=E[1],O=A(x,k,u,d,20*Math.PI/180),M=Object(h.a)(O,2);return[u,d,j,C,M[0],M[1]]}(e,n),v=Object(h.a)(b,6),w=v[0],y=v[1],x=v[2],k=v[3],S=v[4],E=v[5];"dotted"===e.strokeStyle?p.strokeLineDash=[3,4]:delete p.strokeLineDash,(m=n).push.apply(m,[t.line(x,k,w,y,p),t.line(S,E,w,y,p)])}break;case"text":n=[]}B.set(e,n)}},Z=function(e,t,n,a,r){var o=I(e),i=Object(h.a)(o,4),l=i[0],c=i[1],s=i[2],u=i[3],d=(s-l)/2-(e.x-l),f=(u-c)/2-(e.y-c),p=180*e.angle/Math.PI,g=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":H(e,g);var m=t.draw(G(e)),b=e.opacity/100;1!==b&&(m.setAttribute("stroke-opacity","".concat(b)),m.setAttribute("fill-opacity","".concat(b))),m.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,") rotate(").concat(p," ").concat(d," ").concat(f,")")),n.appendChild(m);break;case"line":case"draw":case"arrow":H(e,g);var v=n.ownerDocument.createElementNS(xe,"g"),w=e.opacity/100;G(e).forEach((function(n){var o=t.draw(n);1!==w&&(o.setAttribute("stroke-opacity","".concat(w)),o.setAttribute("fill-opacity","".concat(w))),o.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,") rotate(").concat(p," ").concat(d," ").concat(f,")")),"line"!==e.type&&"draw"!==e.type||!N(e.points)||"transparent"===e.backgroundColor||o.setAttribute("fill-rule","evenodd"),v.appendChild(o)})),n.appendChild(v);break;default:if(!E(e))throw new Error("Unimplemented type ".concat(e.type));var y=e.opacity/100,x=n.ownerDocument.createElementNS(xe,"g");1!==y&&(x.setAttribute("stroke-opacity","".concat(y)),x.setAttribute("fill-opacity","".concat(y))),x.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,") rotate(").concat(p," ").concat(d," ").concat(f,")"));for(var k=e.text.replace(/\r\n?/g,"\n").split("\n"),S=e.height/k.length,j=e.height-e.baseline,C="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,O=Pe(e.text)?"rtl":"ltr",A="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===O?"end":"start",M=0;M<k.length;M++){var P=n.ownerDocument.createElementNS(xe,"text");P.textContent=k[M],P.setAttribute("x","".concat(C)),P.setAttribute("y","".concat((M+1)*S-j)),P.setAttribute("font-family",Ee(e)),P.setAttribute("font-size","".concat(e.fontSize,"px")),P.setAttribute("fill",e.strokeColor),P.setAttribute("text-anchor",A),P.setAttribute("style","white-space: pre;"),P.setAttribute("direction",O),x.appendChild(P)}n.appendChild(x)}},V=n(13),K=n(27),J=n.n(K),q=new V.a(Date.now()),$=function(){return Math.floor(q.next()*Math.pow(2,31))},Q=function(){return J()()},ee=function(e,t){var n=!1,a=t.points;for(var r in"undefined"!==typeof a&&(t=Object(S.a)(Object(S.a)({},function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,Object(k.a)(t))-Math.min.apply(Math,Object(k.a)(t)),height:Math.max.apply(Math,Object(k.a)(n))-Math.min.apply(Math,Object(k.a)(n))}}(a)),t)),t){var o=t[r];if("undefined"!==typeof o){if(e[r]===o&&("object"!==typeof o||null===o||"groupIds"===r))continue;if("points"===r){var i=e[r],l=o;if(i.length===l.length){for(var c=!1,s=i.length;--s;){var u=i[s],d=l[s];if(u[0]!==d[0]||u[1]!==d[1]){c=!0;break}}if(!c)continue}}e[r]=o,n=!0}}n&&("undefined"===typeof t.height&&"undefined"===typeof t.width&&"undefined"===typeof a||function(e){B.delete(e)}(e),e.version++,e.versionNonce=$(),ye.informMutation())},te=function(e,t){return Object(S.a)(Object(S.a)(Object(S.a)({},e),t),{},{version:e.version+1,versionNonce:$()})},ne=function(e){return j(e)?e.points.length<2:0===e.width&&0===e.height};n(17);var ae=function(e,t){var n,a,r=t.x,o=t.y,i=t.strokeColor,l=t.backgroundColor,c=t.fillStyle,s=t.strokeWidth,u=t.strokeStyle,d=t.roughness,h=t.opacity,f=t.width,p=void 0===f?0:f,g=t.height,m=void 0===g?0:g,b=t.angle,v=void 0===b?0:b,w=t.groupIds,x=void 0===w?[]:w,k=Object(y.a)(t,["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds"]);return{id:k.id||Q(),type:e,x:r,y:o,width:p,height:m,angle:v,strokeColor:i,backgroundColor:l,fillStyle:c,strokeWidth:s,strokeStyle:u,roughness:d,opacity:h,groupIds:x,seed:null!==(n=k.seed)&&void 0!==n?n:$(),version:k.version||1,versionNonce:null!==(a=k.versionNonce)&&void 0!==a?a:0,isDeleted:!1}};function re(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}}var oe=function(e){var t=Ce(e.text,je(e)),n=re(e,t);return te(Object(S.a)(Object(S.a)({},ae("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline}),{})},ie=(n(14),/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),function(e){return e.filter((function(e){return!e.isDeleted}))}),le=n(28),ce=n(18),se=n(19),ue=[{lng:"en",label:"English",data:"en.json"}].concat([{lng:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",data:"bg-BG.json"},{lng:"de-DE",label:"Deutsch",data:"de-DE.json"},{lng:"es-ES",label:"Espa\xf1ol",data:"es-ES.json"},{lng:"ca-ES",label:"Catalan",data:"ca-ES.json"},{lng:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",data:"el-GR.json"},{lng:"fr-FR",label:"Fran\xe7ais",data:"fr-FR.json"},{lng:"id-ID",label:"Bahasa Indonesia",data:"id-ID.json"},{lng:"it-IT",label:"Italiano",data:"it-IT.json"},{lng:"hu-HU",label:"Magyar",data:"hu-HU.json"},{lng:"nl-NL",label:"Nederlands",data:"nl-NL.json"},{lng:"nb-NO",label:"Norsk bokm\xe5l",data:"nb-NO.json"},{lng:"nn-NO",label:"Norsk nynorsk",data:"nn-NO.json"},{lng:"pl-PL",label:"Polski",data:"pl-PL.json"},{lng:"pt-PT",label:"Portugu\xeas",data:"pt-PT.json"},{lng:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",data:"ru-RU.json"},{lng:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",data:"uk-UA.json"},{lng:"fi-FI",label:"Suomi",data:"fi-FI.json"},{lng:"tr-TR",label:"T\xfcrk\xe7e",data:"tr-TR.json"},{lng:"ja-JP",label:"\u65e5\u672c\u8a9e",data:"ja-JP.json"},{lng:"ko-KR",label:"\ud55c\uad6d\uc5b4",data:"ko-KR.json"},{lng:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587",data:"zh-TW.json"},{lng:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587",data:"zh-CN.json"},{lng:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",data:"ar-SA.json",rtl:!0},{lng:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",data:"he-IL.json",rtl:!0},{lng:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940",data:"hi-IN.json"}].sort((function(e,t){return e.label>t.label?1:-1}))).filter((function(e){return se[e.lng]>85})),de=(ue[0],{}),he=(ue[0],function(e,t){for(var n=0;n<t.length;++n){var a=t[n];if(void 0===e[a])return;e=e[a]}if("string"===typeof e)return e}),fe=function(e,t){var n=e.split("."),a=he(de,n)||he(ce,n);if(void 0===a)throw new Error("Can't find translation for ".concat(e));if(t)for(var r in t)a=a.replace("{{".concat(r,"}}"),t[r]);return a},pe=new le.a;pe.init({languageUtils:{formatLanguageCode:function(e){return e},isWhitelisted:function(){return!0}},checkWhitelist:!1});var ge=function(e){return Math.floor(e)};var me=function(e,t,n){if(!e.length)return{scrollX:ge(0),scrollY:ge(0)};var a=window.devicePixelRatio,r=U(e),o=Object(h.a)(r,4),i=o[0],l=o[1],c=o[2],s=o[3];if(function(e,t,n){var a=Object(h.a)(n,4),r=a[0],o=a[1],i=a[2],l=a[3],c=Me({sceneX:r,sceneY:o},e,t,window.devicePixelRatio),s=c.x,u=c.y,d=Me({sceneX:i,sceneY:l},e,t,window.devicePixelRatio),f=d.x,p=d.y;return f-s>window.innerWidth||p-u>window.innerHeight}(t,n,[i,l,c,s])){var u=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,a=e[0];return e.forEach((function(e){var r=F(e),o=Object(h.a)(r,4),i=o[0],l=o[1],c=o[2],s=o[3],u=M((i+c)/2,(l+s)/2,t.x,t.y);u<n&&(n=u,a=e)})),F(a)}(e,Ae({clientX:t.scrollX,clientY:t.scrollY},t,n,a)),d=Object(h.a)(u,4);i=d[0],l=d[1],c=d[2],s=d[3]}var f=(i+c)/2,p=(l+s)/2;return{scrollX:ge(window.innerWidth/2-f),scrollY:ge(window.innerHeight/2-p)}},be=function(e,t){return null===e||null===e.getContext("2d")?{x:0,y:0}:{x:e.width/t/2,y:e.height/t/2}},ve=n(8),we=n(9),ye=new(function(){function e(){Object(ve.a)(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap={}}return Object(we.a)(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap[e]||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&function(e){return!e.isDeleted}(t)?t:null}},{key:"replaceAllElements",value:function(e){this.elements=e,this.elementsMap=e.reduce((function(e,t){return e[t.id]=t,e}),{}),this.nonDeletedElements=ie(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++){(0,t[e])()}}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}}]),e}()),xe="http://www.w3.org/2000/svg",ke=null,Se=function(){if(ke)return ke;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),a="".concat(e.getDate()).padStart(2,"0"),r="".concat(e.getHours()).padStart(2,"0"),o="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a,"-").concat(r).concat(o)},Ee=function(e){var t=e.fontFamily;return O[t]},je=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(Ee({fontFamily:n}))},Ce=function(e,t){var n=document.createElement("div"),a=document.body;n.style.position="absolute",n.style.whiteSpace="pre",n.style.font=t,a.appendChild(n),n.innerText=e.split("\n").map((function(e){return e||" "})).join("\n");var r=n.offsetWidth,o=n.offsetHeight,i=document.createElement("span");i.style.display="inline-block",i.style.overflow="hidden",i.style.width="1px",i.style.height="1px",n.appendChild(i);var l=i.offsetTop+i.offsetHeight;return document.body.removeChild(n),{width:r,height:o,baseline:l}},Oe=function(e,t){return Math.abs(e-t)},Ae=function(e,t,n,a){var r=e.clientX,o=e.clientY,i=t.scrollX,l=t.scrollY,c=t.zoom,s=be(n,a);return{x:s.x+(r-s.x)/c-i,y:s.y+(o-s.y)/c-l}},Me=function(e,t,n,a){var r=e.sceneX,o=e.sceneY,i=t.scrollX,l=t.scrollY,c=t.zoom,s=be(n,a);return{x:s.x-(s.x-r-i)*c,y:s.y-(s.y-o-l)*c}},Ne=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),Pe=function(e){return Ne.test(e)},Ie=function(){return{isLoading:!1,errorMessage:null,draggingElement:null,resizingElement:null,multiElement:null,editingElement:null,editingLinearElement:null,elementType:"selection",elementLocked:!1,exportBackground:!0,shouldAddWatermark:!1,currentItemStrokeColor:x.black,currentItemBackgroundColor:"transparent",currentItemFillStyle:"hachure",currentItemStrokeWidth:1,currentItemStrokeStyle:"solid",currentItemRoughness:1,currentItemOpacity:100,currentItemFontSize:20,currentItemFontFamily:1,currentItemTextAlign:"left",viewBackgroundColor:x.white,scrollX:0,scrollY:0,cursorX:0,cursorY:0,cursorButton:"up",scrolledOutside:!1,name:"".concat(fe("labels.untitled"),"-").concat(Se()),username:"",isCollaborating:!1,isResizing:!1,isRotating:!1,selectionElement:null,zoom:1,openMenu:null,lastPointerDownWith:"mouse",selectedElementIds:{},previousSelectedElementIds:{},collaborators:new Map,shouldCacheIgnoreZoom:!1,showShortcutsDialog:!1,zenModeEnabled:!1,gridSize:null,editingGroupId:null,selectedGroupIds:{}}};function Te(e,t){var n,a,r,o,i={type:e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:!1,id:e.id||Q(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(a=e.strokeStyle)&&void 0!==a?a:"solid",roughness:null!==(r=e.roughness)&&void 0!==r?r:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:e.x||0,y:e.y||0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(o=e.seed)&&void 0!==o?o:1,groupIds:e.groupIds||[]};return Object(S.a)(Object(S.a)(Object(S.a)({},i),function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var a=Math.abs(e.height);t.height=a,t.y=e.y-a}return t}(i)),t)}var Le=function(e){var t;switch(e.type){case"text":var n=e.fontSize,a=e.fontFamily;if("font"in e){var r=e.font.split(" "),o=Object(h.a)(r,2),i=o[0],l=o[1];n=parseInt(i,10),a=function(e){for(var t=0,n=Object.entries(O);t<n.length;t++){var a=Object(h.a)(n[t],2),r=a[0];if(a[1].includes(e))return parseInt(r)}return 1}(l)}return Te(e,{fontSize:n,fontFamily:a,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:e.textAlign||"left",verticalAlign:e.verticalAlign||"top"});case"draw":case"line":case"arrow":return Te(e,{points:!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points});case"ellipse":case"rectangle":case"diamond":return Te(e,{})}},De=function(e,t,n){var a=e.reduce((function(e,t){if("selection"!==t.type&&!ne(t)){var n=Le(t);n&&e.push(n)}return e}),[]);return(null===n||void 0===n?void 0:n.scrollToContent)&&t&&(t=Object(S.a)(Object(S.a)({},t),me(a,t,null))),{elements:a,appState:t}},Re=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t=Ie(),n=[],a=t;try{var r=JSON.parse(e);if("excalidraw"!==r.type)throw new Error(fe("alerts.couldNotLoadInvalidFile"));n=r.elements||[],a=Object(S.a)(Object(S.a)({},t),r.appState)}catch(o){throw new Error(fe("alerts.couldNotLoadInvalidFile"))}return{elements:n,appState:a}},t.handle&&(window.handle=t.handle),!("text"in Blob)){e.next=8;break}return e.next=5,t.text();case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 10:a=e.sent;case 11:return r=n(a),o=r.elements,i=r.appState,e.abrupt("return",De(o,i,{scrollToContent:!0}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)({description:"Excalidraw files",extensions:["json","excalidraw"],mimeTypes:["application/json"]});case 2:return t=e.sent,e.abrupt("return",Re(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=/#json=([0-9]+),?([a-zA-Z0-9_-]*)/,ze=function(e){var t=e.svg,n=e.finishedMs,a=e.loadData,r=Object(o.useState)(!1),l=Object(h.a)(r,2),c=l[0],s=l[1],p=Object(o.useState)(!1),g=Object(h.a)(p,2),m=g[0],b=g[1],y=Object(o.useState)(!1),x=Object(h.a)(y,2),k=x[0],S=x[1],E=Object(o.useState)(""),j=Object(h.a)(E,2),C=j[0],O=j[1];Object(o.useEffect)((function(){t&&(m?t.pauseAnimations():t.unpauseAnimations())}),[t,m]),Object(o.useEffect)((function(){var e=window.location.hash.slice(1);"no"!==new URLSearchParams(e).get("toolbar")?s(!0):s("never")}),[]);var A=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=Object(o.useCallback)((function(){t&&b((function(e){return!e}))}),[t]),N=Object(o.useCallback)((function(){t&&t.setCurrentTime(0)}),[t]);Object(o.useEffect)((function(){var e=function(e){"p"===e.key.toLowerCase()?M():"r"===e.key.toLowerCase()?N():"q"===e.key.toLowerCase()?s((function(e){return"boolean"===typeof e?!e:e})):s((function(e){return"boolean"===typeof e||e}))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[M,N]);var P=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return S(!0),e.next=5,w(t,n);case 5:S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!0!==c?null:i.a.createElement("div",{className:"Toolbar"},i.a.createElement("div",{className:"Toolbar-loader"},i.a.createElement("button",{type:"button",onClick:A},"Load File"),i.a.createElement("span",null,"OR"),i.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Ue.exec(C);t?(window.location.hash=t[0],window.location.reload()):window.alert("Invalid link")}},i.a.createElement("input",{placeholder:"Enter shareable link...",value:C,onChange:function(e){return O(e.target.value)}}),i.a.createElement("button",{type:"submit",disabled:!Ue.test(C)},"Animate!"))),t&&i.a.createElement("div",{className:"Toolbar-controller"},i.a.createElement("button",{type:"button",onClick:M},m?"Play (P)":"Pause (P)"),i.a.createElement("button",{type:"button",onClick:N},"Reset (R)"),i.a.createElement("button",{type:"button",onClick:function(){s((function(e){return"boolean"!==typeof e&&e}))}},"Hide Toolbar (Q)"),i.a.createElement("button",{type:"button",onClick:function(){t&&v(t)}},"Export to SVG"),i.a.createElement("button",{type:"button",onClick:P,disabled:k},"Export to WebM ",k&&"(Processing...)")),i.a.createElement(f,{link:"https://github.com/dai-shi/excalidraw-animate",size:40}))},Ye=(n(66),function(e){var t=e.svg,n=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(n.current)return n.current.appendChild(t),function(){t.remove()}}),[t]),Object(o.useEffect)((function(){var e=window.location.hash.slice(1);if("no"===new URLSearchParams(e).get("autoplay")&&n.current){var a=n.current,r=function(){t.setCurrentTime(0),t.unpauseAnimations()};return a.addEventListener("click",r),function(){a.removeEventListener("click",r)}}}),[t]),i.a.createElement("div",{className:"Viewer",ref:n})}),_e=function(e){return[x.red[e],x.pink[e],x.grape[e],x.violet[e],x.indigo[e],x.blue[e],x.cyan[e],x.teal[e],x.green[e],x.lime[e],x.yellow[e],x.orange[e]]},We=([x.white,x.gray[0],x.gray[1]].concat(Object(k.a)(_e(0))),["transparent",x.gray[4],x.gray[6]].concat(Object(k.a)(_e(6))),[x.black,x.gray[8],x.gray[7]].concat(Object(k.a)(_e(9))),function(){function e(t){Object(ve.a)(this,e),this.elementId=void 0,this.activePointIndex=void 0,this.draggingElementPointIndex=void 0,this.lastUncommittedPoint=void 0,e.normalizePoints(t),this.elementId=t.id,this.activePointIndex=null,this.lastUncommittedPoint=null,this.draggingElementPointIndex=null}return Object(we.a)(e,null,[{key:"getElement",value:function(e){var t=ye.getNonDeletedElement(e);return t||null}},{key:"handlePointDragging",value:function(t,n,a,r,o,i){var l,c;if(!t.editingLinearElement)return!1;var s=t.editingLinearElement,u=s.draggingElementPointIndex,d=s.elementId,f=e.getElement(d);if(!f)return!1;var p=null!==(l=u)&&void 0!==l?l:e.getPointIndexUnderCursor(f,t.zoom,a,r);if((u=null!==(c=u)&&void 0!==c?c:p)>-1){s.draggingElementPointIndex===u&&s.activePointIndex===p||n({editingLinearElement:Object(S.a)(Object(S.a)({},s),{},{draggingElementPointIndex:u,activePointIndex:p})});var g=A(a-o,r-i,0,0,-f.angle),m=Object(h.a)(g,2),b=m[0],v=m[1],w=f.points[p];return e.movePoint(f,p,[w[0]+b,w[1]+v]),!0}return!1}},{key:"handlePointerUp",value:function(t){var n=t.elementId,a=t.draggingElementPointIndex,r=e.getElement(n);return r?(null===a||0!==a&&a!==r.points.length-1||!N(r.points)||e.movePoint(r,a,0===a?r.points[r.points.length-1]:r.points[0]),null!==a?Object(S.a)(Object(S.a)({},t),{},{draggingElementPointIndex:null}):t):t}},{key:"handlePointerDown",value:function(t,n,a,r,o,i){var l={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return l;var c=n.editingLinearElement.elementId,s=e.getElement(c);if(!s)return l;if(t.altKey)return n.editingLinearElement.lastUncommittedPoint||ee(s,{points:[].concat(Object(k.a)(s.points),[e.createPointAt(s,o,i)])}),r.resumeRecording(),a({editingLinearElement:Object(S.a)(Object(S.a)({},n.editingLinearElement),{},{activePointIndex:s.points.length-1,lastUncommittedPoint:null})}),l.didAddPoint=!0,l;var u=e.getPointIndexUnderCursor(s,n.zoom,o,i);return u>-1&&(l.hitElement=s),a({editingLinearElement:Object(S.a)(Object(S.a)({},n.editingLinearElement),{},{activePointIndex:u>-1?u:null})}),l}},{key:"handlePointerMove",value:function(t,n,a,r){var o=r.elementId,i=r.lastUncommittedPoint,l=e.getElement(o);if(!l)return r;var c=l.points,s=c[c.length-1];if(!t.altKey)return s===i&&e.movePoint(l,c.length-1,"delete"),r;var u=e.createPointAt(l,n,a);return s===i?e.movePoint(l,l.points.length-1,u):e.movePoint(l,"new",u),Object(S.a)(Object(S.a)({},r),{},{lastUncommittedPoint:l.points[l.points.length-1]})}},{key:"getPointsGlobalCoordinates",value:function(e){var t=I(e),n=Object(h.a)(t,4),a=n[0],r=n[1],o=n[2],i=n[3],l=(a+o)/2,c=(r+i)/2;return e.points.map((function(t){var n=e.x,a=e.y,r=A(n+t[0],a+t[1],l,c,e.angle),o=Object(h.a)(r,2);return[n=o[0],a=o[1]]}))}},{key:"getPointIndexUnderCursor",value:function(e,t,n,a){for(var r=this.getPointsGlobalCoordinates(e),o=r.length;--o>-1;){var i=r[o];if(M(n,a,i[0],i[1])*t<this.POINT_HANDLE_SIZE/2+1)return o}return-1}},{key:"createPointAt",value:function(e,t,n){var a=I(e),r=Object(h.a)(a,4),o=r[0],i=r[1],l=r[2],c=r[3],s=A(t,n,(o+l)/2,(i+c)/2,-e.angle),u=Object(h.a)(s,2),d=u[0],f=u[1];return[d-e.x,f-e.y]}},{key:"normalizePoints",value:function(e){var t=e.points,n=t[0][0],a=t[0][1];ee(e,{points:t.map((function(e,t){return[e[0]-n,e[1]-a]})),x:e.x+n,y:e.y+a})}},{key:"movePoint",value:function(e,t,n){var a,r=e.points,o=0,i=0;if("delete"===n){if("new"===t)throw new Error("invalid args in movePoint");(a=r.slice()).splice(t,1),0===t&&(o=a[0][0],i=a[0][1],a=a.map((function(e,t){return 0===t?[0,0]:[e[0]-o,e[1]-i]})))}else if("new"===t)a=[].concat(Object(k.a)(r),[n]);else{var l=n[0]-r[t][0],c=n[1]-r[t][1];a=r.map((function(e,n){return n===t?0===n?(o=l,i=c,e):(o=0,i=0,[e[0]+l,e[1]+c]):o||i?[e[0]-o,e[1]-i]:e}))}var s=z(e,a),u=z(e,r),d=(s[0]+s[2])/2,h=(s[1]+s[3])/2,f=(u[0]+u[2])/2,p=(u[1]+u[3])/2,g=A(o,i,f-d,p-h,e.angle);ee(e,{points:a,x:e.x+g[0],y:e.y+g[1]})}}]),e}());We.POINT_HANDLE_SIZE=20;var Be=function(e,t){var n=t.exportBackground,a=t.exportPadding,r=void 0===a?10:a,o=t.viewBackgroundColor,i=t.shouldAddWatermark,l=e;if(i){var c=U(e),s=Object(h.a)(c,4),u=s[2],d=s[3];l=[].concat(Object(k.a)(l),[Ge(u,d)])}var f=U(l),p=Object(h.a)(f,4),g=p[0],m=p[1],b=p[2],v=p[3],w=Oe(g,b)+2*r,y=Oe(m,v)+r+(i?0:r),x=document.createElementNS(xe,"svg");if(x.setAttribute("version","1.1"),x.setAttribute("xmlns",xe),x.setAttribute("viewBox","0 0 ".concat(w," ").concat(y)),x.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e",'\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/FG_Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),n&&o){var S=x.ownerDocument.createElementNS(xe,"rect");S.setAttribute("x","0"),S.setAttribute("y","0"),S.setAttribute("width","".concat(w)),S.setAttribute("height","".concat(y)),S.setAttribute("fill",o),x.appendChild(S)}return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.offsetX,o=void 0===r?0:r,i=a.offsetY,l=void 0===i?0:i;n&&e.forEach((function(e){e.isDeleted||Z(e,t,n,e.x+o,e.y+l)}))}(l,P.a.svg(x),x,{offsetX:-g+r,offsetY:-m+r}),x},Ge=function(e,t){return oe({text:fe("labels.madeWithExcalidraw"),fontSize:16,fontFamily:1,textAlign:"right",verticalAlign:"top",x:e,y:t+16,strokeColor:x.gray[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100})};"clipboard"in navigator&&navigator.clipboard,"clipboard"in navigator&&navigator.clipboard,"clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&HTMLCanvasElement.prototype;window.handle=null;var Xe=function(e,t){return window.crypto.subtle.importKey("jwk",{alg:"A128GCM",ext:!0,k:e,key_ops:["encrypt","decrypt"],kty:"oct"},{name:"AES-GCM",length:128},!1,[t])},He=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,o,i,l,c,s,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=Ie(),e.prev=2,e.next=5,fetch(n?"".concat("https://json.excalidraw.com/api/v2/").concat(t):"".concat("https://json.excalidraw.com/api/v1/").concat(t,".json"));case 5:if((o=e.sent).ok){e.next=9;break}return window.alert(fe("alerts.importBackendFailed")),e.abrupt("return",De(a,r,{scrollToContent:!0}));case 9:if(!n){e.next=24;break}return e.next=12,o.arrayBuffer();case 12:return l=e.sent,e.next=15,Xe(n,"decrypt");case 15:return c=e.sent,s=new Uint8Array(12),e.next=19,window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},c,l);case 19:d=e.sent,h=new window.TextDecoder("utf-8").decode(new Uint8Array(d)),i=JSON.parse(h),e.next=27;break;case 24:return e.next=26,o.json();case 26:i=e.sent;case 27:a=i.elements||a,r=Object(S.a)(Object(S.a)({},r),i.appState),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(2),window.alert(fe("alerts.importBackendFailed")),console.error(e.t0);case 35:return e.prev=35,e.abrupt("return",De(a,r,{scrollToContent:!0}));case 38:case"end":return e.stop()}}),e,null,[[2,31,35,38]])})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(e,t,n,a){for(var r,o,i=t.getAttribute("d")||"",l=(null===(r=i.match(/M/g))||void 0===r?void 0:r.length)||0,c=((null===(o=i.match(/C/g))||void 0===o?void 0:o.length)||0)/l,s=i,u=function(r){var o=i.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){","".concat(r),"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[3]?t[3].match(/.* (\S+) (\S+)$/).slice(1,3):[t[1],t[2]],o=Object(h.a)(a,2),i=o[0],l=o[1];return"M".concat(t[1]," ").concat(t[2]).concat(t[3])+" C".concat(i," ").concat(l,", ").concat(i," ").concat(l,", ").concat(i," ").concat(l).repeat(c-r)}));0===r&&t.setAttribute("d",o);var l=e.ownerDocument.createElementNS(xe,"animate");l.setAttribute("attributeName","d"),l.setAttribute("from",o),l.setAttribute("to",s),l.setAttribute("begin","".concat(n+r*(a/c),"ms")),l.setAttribute("dur","".concat(a/c,"ms")),l.setAttribute("fill","freeze"),t.appendChild(l),s=o},d=c-1;d>=0;d-=1)u(d)},Ve=function(e,t,n,a){var r=t.getAttribute("d")||"";if(r.includes("C"))Ze(e,t,n,a);else{var o=r.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"M".concat(t[1]," ").concat(t[2])+t[3].replace(/L\S+ \S+/g,"L".concat(t[1]," ").concat(t[2]))}));t.setAttribute("d",o);var i=e.ownerDocument.createElementNS(xe,"animate");i.setAttribute("attributeName","d"),i.setAttribute("from",o),i.setAttribute("to",r),i.setAttribute("begin","".concat(n,"ms")),i.setAttribute("dur","".concat(a,"ms")),i.setAttribute("fill","freeze"),t.appendChild(i)}},Ke=function(e,t,n,a){var r,o,i=t.getAttribute("d")||"",l=(null===(r=i.match(/M/g))||void 0===r?void 0:r.length)||0;if(l!==((null===(o=i.match(/C/g))||void 0===o?void 0:o.length)||0))throw new Error("unexpected m/c counts");for(var c=l/4,s=i,u=function(r){var o=i.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(c),"){","".concat(r),"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(c),".*"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"".concat(t[1])+Object(k.a)(Array(c).keys()).map((function(e){var n=t.slice(2+2*c+2*e),a=Object(h.a)(n,2),r=a[0],o=a[1];return"M".concat(r," ").concat(o," C").concat(r," ").concat(o,", ").concat(r," ").concat(o,", ").concat(r," ").concat(o," ")})).join("").repeat(4-r)}));0===r&&t.setAttribute("d",o);var l=e.ownerDocument.createElementNS(xe,"animate");l.setAttribute("attributeName","d"),l.setAttribute("from",o),l.setAttribute("to",s),l.setAttribute("begin","".concat(n+r*(a/4),"ms")),l.setAttribute("dur","".concat(a/4,"ms")),l.setAttribute("fill","freeze"),t.appendChild(l),s=o},d=3;d>=0;d-=1)u(d)},Je=0,qe=function(e,t,n,a,r){var o=t.childNodes,i=o.length;o.forEach((function(t){!function(e,t,n,a,r){var o,i=n.getAttribute("y");Je+=1;var l=e.ownerDocument.createElementNS(xe,"path");l.setAttribute("id","pathForText"+Je);var c=e.ownerDocument.createElementNS(xe,"animate");c.setAttribute("attributeName","d"),c.setAttribute("from","m0,".concat(i," h0")),c.setAttribute("to","m0,".concat(i," h").concat(t)),c.setAttribute("begin","".concat(a,"ms")),c.setAttribute("dur","".concat(r,"ms")),c.setAttribute("fill","freeze"),l.appendChild(c);var s=e.ownerDocument.createElementNS(xe,"textPath");s.setAttribute("href","#pathForText"+Je),s.textContent=n.textContent,n.textContent=null,null===(o=function(e,t){for(var n=e.childNodes,a=0;a<n.length;++a)if(n[a].tagName===t)return n[a];return null}(e,"defs"))||void 0===o||o.appendChild(l),n.appendChild(s)}(e,n,t,a,r/i),a+=r/i}))},$e=function(e,t,n,a,r,o){"line"===n||"draw"===n?function(e,t,n,a){var r=t.childNodes;r[0].getAttribute("fill-rule")?(Ze(e,r[0].childNodes[1],n,.75*a),n+=.75*a,Ve(e,r[0].childNodes[0],n,.25*a)):Ze(e,r[0].childNodes[0],n,a)}(e,t,r,o):"arrow"===n?function(e,t,n,a){Ze(e,t.childNodes[0].childNodes[0],n,.6*a),n+=.6*a,Ze(e,t.childNodes[1].childNodes[0],n,.2*a),n+=.2*a,Ze(e,t.childNodes[2].childNodes[0],n,.2*a)}(e,t,r,o):"rectangle"===n||"diamond"===n?function(e,t,n,a){t.childNodes[1]?(Ke(e,t.childNodes[1],n,.75*a),n+=.75*a,Ve(e,t.childNodes[0],n,.25*a)):Ke(e,t.childNodes[0],n,a)}(e,t,r,o):"ellipse"===n?function(e,t,n,a){t.childNodes[1]?(Ze(e,t.childNodes[1],n,.75*a),n+=.75*a,Ve(e,t.childNodes[0],n,.25*a)):Ze(e,t.childNodes[0],n,a)}(e,t,r,o):"text"===n&&qe(e,t,a,r,o)},Qe=function(){var e=Object(o.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(),i=Object(h.a)(r,2),l=i[0],c=i[1],s=Object(o.useState)(),f=Object(h.a)(s,2),p=f[0],g=f[1],m=Object(o.useCallback)((function(e){var t=ie(e.elements),n=Be(t,{exportBackground:!0,exportPadding:30,viewBackgroundColor:"white",shouldAddWatermark:!1}),a=function(e,t){var n=function(e,t){var n={},a=0;return e.childNodes.forEach((function(e){if("g"===e.tagName){var r=t[a].groupIds;if(r.length>=1){var o=r[0];n[o]=n[o]||[],n[o].push([e,a])}a+=1}})),n}(e,t),a=new Map,r=1e3,o=0;return e.childNodes.forEach((function(i){if("g"===i.tagName){var l=t[o],c=l.type,s=l.width,u=l.groupIds;if(!a.has(i))if(u.length>=1){var d=u[0],f=n[d],p=5e3/(f.length+1);$e(e,i,c,s,r,p),r+=p,a.set(i,!0),f.forEach((function(n){var o=Object(h.a)(n,2),i=o[0],l=o[1],c=t[l],s=c.type,u=c.width;a.has(i)||($e(e,i,s,u,r,p),r+=p,a.set(i,!0))})),delete n[d]}else $e(e,i,c,s,r,500),r+=500,a.set(i,!0);o+=1}})),{finishedMs:r+1e3}}(n,t);return console.log(n),c(n),g(a.finishedMs),{svg:n,finishedMs:a.finishedMs}}),[]);return Object(o.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n,r,o,i,l,c,s,d,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.hash.slice(1),n=new URLSearchParams(t),!(r=/([0-9]+),?([a-zA-Z0-9_-]*)/.exec(n.get("json")||""))){e.next=10;break}return o=Object(h.a)(r,3),i=o[1],l=o[2],e.next=7,He(i,l);case 7:c=e.sent,s=m(c),d=s.svg,f=s.finishedMs,"no"===n.get("autoplay")&&d.setCurrentTime(f);case 10:a(!1);case 11:case"end":return e.stop()}}),e)})))()}),[m]),{loading:n,loadedSvg:l,finishedMs:p,loadData:m}},et=function(){var e=Qe(),t=e.loading,n=e.loadedSvg,a=e.finishedMs,r=e.loadData;return t?i.a.createElement("div",null,"Loading..."):i.a.createElement("div",{className:"App"},i.a.createElement(ze,{svg:n,finishedMs:a,loadData:r}),n&&i.a.createElement(Ye,{svg:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,28,29]]]);
//# sourceMappingURL=main.6e64d9c1.chunk.js.map